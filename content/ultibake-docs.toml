# UltiBake Documentation
[documentation]
  enabled = true
  default_view = "showcase"
  toggle_text_showcase = "View Documentation"

  [documentation.toc]
    title = "Documentation"
    subtitle = ""
    sections = [
      { id = "basics", title = "Basics", description = "Standard baking workflow", image = "images/Ultibake/UltibakeSettingsnew/MainPanel.png" },
      { id = "advanced", title = "Advanced Baking", description = "Multi object, High to low, Decal and Atlas Baking", image = "images/Ultibake/UltibakeSettingsnew/SettingsPanel.png" },
      { id = "extras", title = "Extras", description = "Quality of Life features & Specific Workflows", image = "images/Ultibake/Docs/Extras/ObjectScaleNormalize.png" },
      { id = "troubleshooting", title = "Troubleshooting", description = "Common Issues & Solutions", image = "images/Ultibake/Docs/Extras/Stability.png" }
    ]

# ==========================================
# USER MANUAL
# ==========================================
[[documentation.pages]]
  id = "basics"
  title = "Basics"

  [documentation.pages.introduction]
    title = "UltiBake Basics"
    video_title = "Baking Basics"
    video_url = "https://www.youtube.com/embed/ml9_cHWFPtg"
    paragraphs = [
        "The **Quick Start** below covers the simplest setup possible. To get everything out of UltiBake, it is recommended to watch the videos and read the full documentation.",
        "UltiBake is targeted at professionals who need to bake Blender materials to textures, offering full support for even the most obscure and advanced configurations and texture maps."
    ]
    
    usage_title = "Quick Start"
    usage_steps = [
        "**1. Setup:** Create a **Bake Set** and assign your **Low Poly object** (in a collection).",
        "**2. Configure Bake Set:** Set your **Bake Set UV Map** and assign a **Profile**.",
        "**3. Set Output:** Set your **Bake Folder**.",
        "**4. Bake:** Click **Bake All** to process textures in the background.",
        "**5. Finalize & Export:** Use **Finalize** to prepare your asset and export effortlessly to GLTF or FBX.",
        "**6. Direct GLTF Export:** (Optional) Use the GLTF button (3rd button at top) for faster export. Note: Supports limited texture types."
    ]
    usage_images = ["images/Ultibake/Docs/Quickstartimage.png"]
    usage_images_captions = ["Quick Start Guide - Follow the numbered steps."]
    usage_images_layout = "wide"
    section_order = [
      "usage_basics",
      "usage_profiles",
      "usage_baketypes",
      "usage_baking",
      "usage_finalize",
      "usage_export"
    ]
    initial_section = "intro"
    section_id_prefix = "doc-page-"

    # Usage: Basics
    usage_basics_title = "Usage Guide: Basics"
    usage_basics_steps = [
       "**1. Setup** - Ensure your addon is updated and located in the UI.",
       "**2. Bake Set** - Create a Bake Set and assign your Low Poly collection. A collection is required (even for single objects) to enable baking multiple objects to the same texture.",
       "**3. Pre-Checks** - Use the Visualizers to check UVs and ensure materials use Principled BSDF.",
       "**4. Sanitize Materials** - (Optional) Enable in settings. Click the button to try and auto-convert materials to Principled BSDF. This does not happen automatically during baking.",
       "**5. Color IDs** - (Optional) Configure Color IDs for object groupings in the Bake Set 'Object Relationships' sub-panel."
    ]
    usage_basics_images = [
        "images/Ultibake/Docs/Step0_UpdateTheAddonFromtheUI.png",
        "images/Ultibake/Docs/Step1_FindTheUI.png",
        "images/Ultibake/Docs/Step2_CreateBakeSetAndSetLowCollection.png",
        "images/Ultibake/Docs/Step3_UV_VIZ_CheckYourObjectUVsBeforeBaking.png",
        "images/Ultibake/Docs/Step4_EnsureYourMaterialIsUsingPrincipledBSDF.png",
        "images/Ultibake/Docs/Step4_1_UseSanitizeMaterialsButtontoTrytofixmaterials.png",
        "images/Ultibake/Docs/Step_5_6_ColorIDPerObject.png"
    ]
    usage_basics_images_captions = [
        "Update the Addon - Ensure you have the latest version.",
        "Find the UI Panel - Located in the 3D Viewport side bar.",
        "Create Bake Set & Set Collection - Assign your Low Poly collection. A collection is required to bake multiple objects to the same texture.",
        "Check UVs with Visualizer - Use the visualizer to find overlaps.",
        "Ensure materials use Principled BSDF.",
        "Use Sanitize Materials - Attempt to auto-fix materials. Enable in Settings.",
        "Color ID Config - Set Color IDs in the Bake Set Object Relationships panel."
    ]
    usage_basics_images_alignment = ["center", "center", "center", "center", "center", "center", "center"]

    # Usage: Profiles
    usage_profiles_title = "Usage Guide: Profiles"
    usage_profiles_steps = [
        "**Profiles** create reusable bake configurations, similar to **Substance Painter** presets. Start with the built-in **Unreal** or **Unity** presets as templates.",
        "**Assignment:** Each Bake Set can be assigned its own unique Profile.",
        "**Definition:** A profile defines the number of textures per Bake Set, channel packing configuration, and automatic texture naming.",
        "**Per-Channel Options:** Configure specific settings for each channel, such as choosing between DirectX or OpenGL for Normal maps.",
        "**Additional Settings:** Control Finalize naming patterns, bake Samples (affects AO/BentNormals speed), and Margins (resolution-based or manual).",
        "**Note:** Resolution is defined in the Bake Set containing the objects you want to bake, not in the Profile."
    ]
    usage_profiles_images = [
        "images/Ultibake/Docs/Step5_1_SetYourProfile.png",
        "images/Ultibake/Docs/Step5_2_CustomizeYourProfile.png",
        "images/Ultibake/Docs/Step_5_3_ProfileUI.png",
        "images/Ultibake/Docs/Step_5_4_TexturePostProcessing.png",
        "images/Ultibake/Docs/Step_5_5_AddingMoreTextures.png"
    ]
    usage_profiles_images_captions = [
        "Set Profile - Choose your bake configuration.",
        "Enable Profiles Panel - Shows how to enable the profiles panel.",
        "Profile UI - Overview of profile settings.",
        "Texture Post Processing - Add effects: Antialias, Kuwahara, Sharpen, Denoise.",
        "Adding More Textures - Bake Sets using this profile will generate these additional textures."
    ]
    usage_profiles_images_alignment = ["center", "center", "center", "center", "center"]

    # Usage: Bake Types
    usage_baketypes_title = "Usage Guide: Bake Types"
    usage_baketypes_steps = [
        "**The Core Concept:** Bake Types are the most important concept in UltiBake. They define exactly what data is being baked into your textures.",
        "**Principled BSDF Parity:** The addon utilizes the **Principled BSDF** node to ensure consistency and parity with game engines like Unity, Unreal, and Godot. It is the only shader node in Blender fully comparable to PBR standards required by these engines.",
        "**Requirement:** All inputs on the Principled BSDF node exist in game engines, which is why your materials **MUST** use this node. It doesn't matter how deep it is nested in node groups; it just has to exist.",
        "**Profile Integration:** Profile textures are composed of these bake types. A single texture can hold up to 4 bake types (one for each channel: R, G, B, A).",
        "**Standard vs. Special:** Standard types (Base Color, Metallic, Normal) come directly from the Principled BSDF. **Special Bake Types** (ColorID, Ambient Occlusion, Bent Normals) do not exist on the node but are generated procedurally during the bake.",
        "**Sanitize Materials:** If your materials don't use Principled BSDF, enable the **Material Preprocessing** panel in Settings. It contains tools to auto-convert them."
    ]
    usage_baketypes_images = ["images/Ultibake/BasicUsage/BakeTypes.png"]
    usage_baketypes_images_captions = ["Bake Types - Ensuring PBR parity with game engines."]
    usage_baketypes_images_alignment = ["center"]

    # Usage: Baking
    usage_baking_title = "Usage Guide: Baking Process"
    usage_baking_steps = [
        "**Bake UV** - Configured in the Bake Set list (next to the Profile). Defines how the texture is laid out in UV space.",
        "**Render Target** - Defines what the bake will look like on the object. Set via the camera icon next to the UV map on each object.",
        "Baking happens in the background, keeping Blender responsive."
    ]
    usage_baking_images = [
        "images/Ultibake/Docs/Step6_1_SetYourRenderTarget.png",
        "images/Ultibake/Docs/BakeSetUVSelectionLocation.png",
        "images/Ultibake/Docs/Step_7_BakeAll.png",
        "images/Ultibake/Docs/Step_7_1_BakingIsDoneIntheBackground.png"
    ]
    usage_baking_images_captions = [
        "Set Render Target - Defines the visual appearance (Camera Icon).",
        "Set Bake UV - Configured in Bake Set list (Highlighted Red). Overrides Active UV.",
        "Bake All - Start the baking process.",
        "Background Baking - Process runs in background."
    ]
    usage_baking_images_alignment = ["center", "center", "center", "center"]

    # Usage: Finalize
    usage_finalize_title = "Usage Guide: Finalize"
    usage_finalize_steps = [
        "**Standard Workflow:** Finalize duplicates the baked mesh with a **single material** applied. This gives you full control over the result.",
        "**Remove Other UVs:** (Setting) If enabled, the mesh will only keep your desired UV map. This ensures proper mapping in engines like Unity/Unreal/Godot which default to UV Index 0.",
        "**Export Loop:** Export mesh (FBX/GLTF) → Import to Engine → Import Textures → Create & Assign Material.",
        "**Pros:** Slower than direct GLTF export, but offers maximum compatibility and control."
    ]
    usage_finalize_images = [
        "images/Ultibake/Docs/Step_8_Finalize.png",
        "images/Ultibake/Docs/RemoveOtheUVsSetting.png"
    ]
    usage_finalize_images_captions = [
        "Finalize Output - Prepare assets for export.",
        "Remove Other UVs - Toggle in Settings to clean up UV maps."
    ]
    usage_finalize_images_alignment = ["center", "center"]

    # Usage: Export
    usage_export_title = "Usage Guide: GLTF Export"
    usage_export_steps = [
        "Export directly to GLTF/GLB for use in engines like Godot."
    ]
    usage_export_images = [
        "images/Ultibake/Docs/Step_9_GLTF_ExportSupportNOCOLORID.png",
        "images/Ultibake/Docs/Step_9_1_Remove_ColorID_From_Profile.png",
        "images/Ultibake/Docs/Step_9_2_GLTF_Export_Working.png",
        "images/Ultibake/Docs/Step_9_3_GLTF_INGODOT_Example.png"
    ]
    usage_export_images_captions = [
        "Export Support - Shows what happens when using an invalid profile with unsupported textures.",
        "Remove Color ID (if needed). The GLTF exporter only supports a limited set of textures, using the defaults like UE5 Standard will cover most of the important ones",
        "GLTF Export - Export directly to GLTF/GLB.",
        "Result in Godot - Asset running in engine."
    ]
    usage_export_images_alignment = ["center", "center", "center", "center"]

[[documentation.pages]]
  id = "advanced"
  title = "Advanced Baking"

  [documentation.pages.introduction]
    title = "Advanced Baking"
    paragraphs = []
    section_order = [
      "usage_multiobject",
      "usage_uvtools",
      "usage_highlow",
      "usage_decal",
      "usage_atlas"
    ]

    # Usage: Multi Object Baking
    usage_multiobject_title = "Multi Object Baking"
    usage_multiobject_steps = [
        "**Identical Setup, Critical UVs:** The setup is identical to Basic Mode thanks to collections. The main difference is that **UV Management** becomes critical.",
        "**Unified Texture Space:** All objects bake to the same texture. They MUST share at least one UV map with the same name (Target UV) and have no overlapping islands.",
        "**Ready to Bake:** Once UVs are validated (see below), the process is identical to the Basic Setup.",
        "**Performance & Fast Mode:** Baking multiple objects individually can be slow. Enable **Fast Mode** on the Bake Set to internally combine objects for faster baking (Note: May affect materials using Object Coordinates).",
        "**Result:** After baking and finalizing, you get a clean, multi-object result with unified textures."
    ]
    usage_multiobject_images = [
        "images/Ultibake/Docs/Advanced/MultiObjectSetup.png",
        "images/Ultibake/Docs/Advanced/SlowBake.png",
        "images/Ultibake/Docs/Advanced/FastModeToggleLocation.png",
        "images/Ultibake/Docs/Advanced/Multiobjectbakeafterfinalize.png"
    ]
    usage_multiobject_images_captions = [
        "Multi Object Setup - Collections allow multiple objects to share one texture set.",
        "Standard Speed - Individual object baking can be slow for many objects.",
        "Fast Mode - Toggle to combine objects internally for significantly faster baking.",
        "Final Result - Clean mesh with unified textures after Finalize."
    ]
    usage_multiobject_images_alignment = ["center", "center", "center", "center"]

    # Usage: UV Tools
    usage_uvtools_title = "UV Tools"
    usage_uvtools_steps = [
        "**Avoid Overlaps:** Overlapping UVs are a major issue in multi-object baking. Use the **UV Tools** (enable in Settings) to solve this.",
        "**Batch UV Creation (Add):** Selecting a UV and clicking **Add** creates a duplicate UV on ALL objects in the collection. Useful for creating batch UVs.",
        "**Batch UV Removal (Remove):** Removes the selected UV from ALL objects in the Bake Set.",
        "**Sync UVs (Double Arrow):** If a UV is missing from some objects, clicking **Sync** recreates it by name on those objects only. **Tip:** Sync from the bottom of the list up, as UV hierarchy can be fragile.",
        "**Fix Indices:** Game engines rely on UV Index order (0-7). If UltiBake detects index mismatches, use the **Fix Indices** button to automatically reorder them.",
        "**Unwrap & Pack:** Use **Unwrap & Pack Uvs** to fix the **Active BakeSet UV**. Note: The tool uses the Bake Set's active UV, ignoring the tool's own selection.",
        "**Visualizer:** Enable the **UVVisualizer** toggle (Main Panel) to see exactly which UVs are being modified and to verify the packed result.",
        "**Validation:** A correct setup (as shown below) has no detected overlaps in the visualizer and displays checkmarks for all UVs, indicating no index or count mismatches."
    ]
    usage_uvtools_images = [
        "images/Ultibake/Docs/Advanced/OverlappingUVS.png",
        "images/Ultibake/Docs/Advanced/HighlightedAddSyncRemove.png",
        "images/Ultibake/Docs/Advanced/FixIndices.png",
        "images/Ultibake/Docs/Advanced/UVUnwrappingTools.png",
        "images/Ultibake/Docs/Advanced/FixedUVS.png"
    ]
    usage_uvtools_images_captions = [
        "Overlapping UVs - Visualizer showing overlaps (Red) which cause bake errors.",
        "Batch UV Tools - Add, Sync, or Remove UV maps across the entire collection.",
        "Fix Indices - Auto-correction for UV Index mismatches critical for game engines.",
        "UV Tools - Unwrap & Pack with UVVis open to verify results.",
        "Valid UV Setup - No overlaps detected and all UVs valid (checkmarks)."
    ]
    usage_uvtools_images_alignment = ["center", "center", "center", "center", "center"]

    # Usage: High to Low Baking
    usage_highlow_title = "High to Low Baking"
    usage_highlow_steps = [
        "**Setup:** Create TWO collections: one for **Low** objects and one for **High** objects.",
        "**Name Pairing:** Objects are paired by NAME. The Low object uses the base name (e.g., 'Suzanne'), and the High object must have a suffix: `_HP`, `_HighPoly`, or `_High` (e.g., 'Suzanne_HP').",
        "**Verification:** Check the 'Object Relationship' subpanel to verify successful pairing.",

        "**Material Source:** The Low object's material is ignored. Baking uses the mesh normals and materials from the High object.",
        "**Exploded View:** Object transforms are ignored/reset during baking. You can keep High and Low objects separated ('exploded') in the viewport to avoid visual overlap.",
        "**Multiple Objects & UVs:** When baking multiple High-to-Low pairs to the same Bake Set, they share the same texture space. **Always use the UVVisualizer** to check for overlaps (shown below) before baking."
    ]
    usage_highlow_images = [
        "images/Ultibake/Docs/Advanced/HighToLowBakingValidSetup.png",
        "images/Ultibake/Docs/Advanced/HightoLowresults.png",
        "images/Ultibake/Docs/Advanced/MultipleHightoLowUVOverlapFail.png",
        "images/Ultibake/Docs/Advanced/MultipleHightoLowUVOverlapCorrect.png"
    ]
    usage_highlow_images_captions = [
        "High to Low Setup - Low/High collections populated and properly name-paired.",
        "Baked Result - Details transferred from 'exploded' High poly to Low poly.",
        "UV Overlap Warning - Visualizer showing overlaps (Red) when multiple objects share the same texture space.",
        "Fixed Texture Space - Visualizer confirms valid setup after using UV Tools to fix overlaps."
    ]
    usage_highlow_images_alignment = ["center", "center", "center", "center"]

    # Usage: Decal Baking
    usage_decal_title = "Decal Baking"
    usage_decal_steps = [
        "**Collection Setup:** Requires at least a **Low** collection and a **Decal** collection (assigned to the **Decals** slot).",
        "**Decal Placement:** Place decals (any mesh object) on your geometry. **Ensure Normals Face UP** (outwards) so they project correctly towards the target.",
        "**Cage Visualizer:** Enable the **Cage Visualizer** (next to UV Visualizer) to see the ray distance (Green). The cage MUST envelop the decal for it to be projected.",
        "**Decals with Depth:** If your decal has depth (is 3D, not just a plane), disable **'Use Normal Data Transfer'** in the decal's material settings to prevent artifacts.",
        "**Baking:** The baker will project the decals onto the Low poly mesh's texture."
    ]
    usage_decal_video_url = "https://www.youtube.com/embed/o7HeKuUa624"
    usage_decal_images = [
        "images/Ultibake/Docs/Advanced/DecalBakingSetupValid.png",
        "images/Ultibake/Docs/Advanced/Maxraydistancevisualizerfordecals.png",
        "images/Ultibake/Docs/Advanced/DepthDecalFix.png",
        "images/Ultibake/Docs/Advanced/DecalBakeSimpleResult.png"
    ]
    usage_decal_images_captions = [
        "Decal Setup - Valid setup with Low and Decal collections.",
        "Cage Visualizer - Ensure the Green cage (Max Ray Distance) fully covers the decals.",
        "Depth Fix - Disable 'Use Normal Data Transfer' for 3D/non-flat decals.",
        "Baked Result - Decals projected seamlessly onto the Low poly geometry."
    ]
    usage_decal_images_alignment = ["center", "center", "center", "center"]

    # Usage: Manual Atlas Baking
    usage_atlas_title = "Atlas Baking"
    usage_atlas_steps = [
        "**Atlas Mode:** To enable Atlas Mode, assign your collection to the **Decals** slot while ensuring no other collections are assigned. The slot label will automatically change to **Atlas**, indicating that the mode is active.",
        "**Functionality:** All objects in the collection are automatically arranged in a flat square grid and baked from above (Top-Down).",
        "**Workflow & Result:** The baking workflow is identical to other modes. **Finalize** will create a single plane with the baked atlas applied.",
        "**Use Cases:** Ideal for creating texture atlases for hotspot texturing, decals, fonts, or UI elements."
    ]
    usage_atlas_video_url = "https://www.youtube.com/embed/N9TwSyBMqZ8"
    usage_atlas_images = [
        "images/Ultibake/Docs/Advanced/AtlasBakingSetup.png",
        "images/Ultibake/Docs/Advanced/AtlasBakeResult.png"
    ]
    usage_atlas_images_captions = [
        "Atlas Setup - Defining the collection in the Atlas slot triggers Atlas Mode.",
        "Baked Result - Finalize generates a plane with the atlas texture applied. Note that the voronoi texture looks different, this is because by default that node uses generated coordinates, this will be overwritten since in atlas mode all objects are combined into one, to prevent this use other texture coordinate methods"
    ]
    usage_atlas_images_alignment = ["center", "center"]

[[documentation.pages]]
  id = "extras"
  title = "Extras"

  [documentation.pages.introduction]
    title = "UltiBake Extras"
    paragraphs = [
        "This section covers **Quality of Life** features of UltiBake. These tools are not required for every workflow but are excellent additions to your toolkit.",
        "They may also cover very specific workflow functionalities that don't fit into the standard baking categories."
    ]
    section_order = [
      "usage_scale_normalize",
      "usage_mof_unwrapper",
      "usage_uv_sync",
      "usage_environment",
      "usage_profile_management",
      "usage_stacked_decals"
    ]

    # Usage: Object Scale Normalize
    usage_scale_normalize_title = "Object Scale Normalize"
    usage_scale_normalize_steps = [
        "**Atlas Mode Toggle:** This setting is specifically for **Atlas Mode**.",
        "**Functionality:** It normalizes the scale of the atlas during baking.",
        "**Purpose:** Ensures consistent baking of normals. In Blender, normal map strength can be heavily affected by object scale differences; this feature prevents those inconsistencies."
    ]
    usage_scale_normalize_images = ["images/Ultibake/Docs/Extras/ObjectScaleNormalize.png"]
    usage_scale_normalize_images_captions = ["Object Scale Normalize - Ensures consistent normal strength in Atlas Mode."]
    usage_scale_normalize_images_alignment = ["center"]

    # Usage: MOF Unwrapper
    usage_mof_unwrapper_title = "MOF Unwrapper"
    usage_mof_unwrapper_steps = [
        "**MOF Unwrapper:** Hidden selection in UVTools for the **[MOF Unwrapper](https://github.com/Ultikynnys/MOF-Blender)**.",
        "**Better Unwrapping:** Handles unwrapping significantly better than Blender's default Smart Unwrapper.",
        "**Installation:** Requires installing the **MOF-Blender** addon and ensuring the **MOF engine** is installed."
    ]
    usage_mof_unwrapper_images = ["images/Ultibake/Docs/Extras/UVToolsMOF.png"]
    usage_mof_unwrapper_images_captions = ["MOF Unwrapper - Advanced unwrapping integration."]
    usage_mof_unwrapper_images_alignment = ["center"]

    # Usage: UV Editor Sync
    usage_uv_sync_title = "UV Editor Sync"
    usage_uv_sync_steps = [
        "**The Problem:** In Blender, managing multiple objects with multiple UV maps is difficult because the UV Editor only shows the active UV map per object. Ensuring you are editing the correct UV map across multiple objects can be a nightmare.",
        "**The Solution:** UltiBake automatically syncs the active UV map for all objects in a Bake Set to the **Bake Set UV Map**.",
        "**UV Editor Sync Toggle:** This toggle opens a **synced UV Editor**. This allows you to unwrap and pack your objects with confidence, knowing that the correct UV map is active for every object in the set.",
        "**Desynced Status:** If it says **Desynced**, you likely changed the active UV map via the mesh properties (the old way). **Do not do this.** Instead, change the UV map from the **Bake Set list** to automatically sync it across all objects in the Low collection."
    ]
    usage_uv_sync_images = [
        "images/Ultibake/Docs/Extras/UVEditorSync.png",
        "images/Ultibake/Docs/Extras/UVEditorSyncView.png"
    ]
    usage_uv_sync_images_captions = [
        "UV Editor Sync - Opens a UV Editor synced to the Bake Set's active UV map.",
        "UV Editor Sync View - Inspecting shared UVs across objects."
    ]
    usage_uv_sync_images_alignment = ["center", "center"]

    # Usage: Environment Collection
    usage_environment_title = "Environment Collection"
    usage_environment_steps = [
        "**Understanding the Slot:** The Environment collection slot is important if you want additional AO or light contribution from lights or objects to your baked objects.",
        "**Default Behavior:** By default, everything unrelated to the bake is blacklisted. If you don't define this slot, the scene is baked with ONLY the Low, High, and Decals collections.",
        "**Usage:** Assignment to the Environment slot inserts those objects into the baking scene. This is useful if your materials utilize AO for effects like dust or grime and you need other objects (like the cube in the image) to affect it.",
        "**Lightmaps:** Note that the Sky will ALWAYS affect the lightmap bake regardless of this setting."
    ]
    usage_environment_images = [
        "images/Ultibake/Docs/Extras/WithoutEnviromentCol.png",
        "images/Ultibake/Docs/Extras/WithEnviromentCol.png"
    ]
    usage_environment_images_captions = [
        "Environment Collection - Including external objects in the bake calculation.",
        "With Environment - Red light contribution and extra Cube AO affecting the bake."
    ]
    usage_environment_images_alignment = ["center", "center"]

    # Usage: Profile Management
    usage_profile_management_title = "Profile Management"
    usage_profile_management_steps = [
        "**Global Profiles:** Profiles are global, meaning they persist across projects.",
        "**Save/Load:** You can save profiles to share with other users or verify backups. This creates a `.ub2` file which can be loaded back in.",
        "**Defaults:** Use 'Save to Default' and 'Load from Default' to embed the profile into the addon itself. This ensures it stays persistent with your Blender installation or when migrating to a newer Blender version."
    ]
    usage_profile_management_images = ["images/Ultibake/Docs/Extras/ProfileSaveLoad.png"]
    usage_profile_management_images_captions = ["Profile Management - Save, Load, and Manage Defaults."]
    usage_profile_management_images_alignment = ["center"]

    # Usage: Stacked Decals
    usage_stacked_decals_title = "Stacked Decals"
    usage_stacked_decals_steps = [
        "**The Problem:** Decals that overlap will be clipped using the mesh boundary instead of the image alpha. This causes the visual issue shown in the image.",
        "**The Solution:** Enable the **Decal Tools** panel from the Settings.",
        "**Decal Stencil:** This tool applies a geometry node modifier to your decals. Given an image and a channel, it creates a **mesh stencil** so that the mesh boundary accurately matches the alpha of the image.",
        "**Usage:** Select the image with the alpha mask, then select the channel and UV to correctly create the stencil.",
        "**Stencilize:** Use the **Stencilize Selected** button to fix the selected decals. You can also optionally shrinkwrap or reparent decals between low/high objects.",
        "**Adjustments:** You will also need to adjust the subdivision and threshold to get the desired mesh shape. Once satisfied, you can rebake.",
        "**Result:** The resulting bake with stencilize applied shows overlapping decals correctly stacked.",
        "**Tip:** If the resulting subdivision isn't enough, you can always subdivide the plane first manually."
    ]
    usage_stacked_decals_images = [
        "images/Ultibake/Docs/Extras/StackedUVS_withoutstencil.png",
        "images/Ultibake/Docs/Extras/DecalToolsUI.png",
        "images/Ultibake/Docs/Extras/StencilizeSubdivthresholdadjustments.png",
        "images/Ultibake/Docs/Extras/StencilizeBakedResult.png"
    ]
    usage_stacked_decals_images_captions = [
        "Stacked Decals Issue - Overlapping decals clipping incorrectly without stencils.",
        "Decal Tools UI - Configure image alpha source and Stencilize.",
        "Adjustments - Tweak Subdivision and Threshold for the perfect stencil shape.",
        "Final Result - Correctly stacked decals with proper alpha clipping."
    ]
    usage_stacked_decals_images_alignment = ["center", "center", "center", "center"]

[[documentation.pages]]
  id = "troubleshooting"
  title = "Troubleshooting"

  [documentation.pages.introduction]
    title = "Troubleshooting"
    paragraphs = [
        "Here you will find a list of **common issues** faced by customers and their solutions.",
        "If you cannot find the answer you are looking for here, please join our **[Discord Server](https://discord.gg/Pm7TDf2rV5)** for direct support and community help."
    ]
    section_order = [
      "usage_stability"
    ]

    # Usage: Stability & Performance
    usage_stability_title = "Bake Failures & Performance"
    usage_stability_steps = [
        "**System Instability:** If your bakes keep failing, it may be due to system instability (hardware specs or OS issues). **Solution:** Enable **CPU Only Mode** and reduce the number of **Max CPU** and **GPU workers** in the settings.",
        "**Long Bake Times:** Bakes can take a long time due to system specs or extreme resolutions (4k-8k). **Solution:** Increase the **Job Timeout** setting to prevent premature failure.",
        "**Resolution vs. UVs:** Increasing texture resolution is often a bad idea. Most texture-related quality issues are **UV related**. Fixing your UVs (better unwrapping, packing, and texel density) is usually preferred over simply increasing resolution, though it requires more expertise."
    ]
    usage_stability_images = ["images/Ultibake/Docs/Extras/Stability.png"]
    usage_stability_images_captions = ["Performance Settings - Adjust workers and timeouts to fix stability issues."]
    usage_stability_images_alignment = ["center"]
